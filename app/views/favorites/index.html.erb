<main class="min-h-screen bg-neutral-25 px-6 py-12">
  <section class="mx-auto max-w-6xl">
    <header class="mb-8">
      <h1 class="font-display text-4xl font-semibold text-slate-900">My Favorites</h1>
      <p class="mt-2 text-slate-600">Keep track of the movies you love most.</p>
      <%= link_to "Browse Movies", movies_path, class: "inline-block mt-4 px-6 py-2 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 transition" %>
    </header>

    <% if @favorites.any? %>
      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <% @favorites.each do |favorite| %>
          <% movie = favorite.movie %>
          <div class="rounded-2xl border border-neutral-100 bg-white overflow-hidden shadow-card hover:shadow-lg transition">
            <% if movie.poster_url.present? %>
              <img src="<%= movie.poster_url %>" alt="<%= movie.title %>" class="w-full h-64 object-cover">
            <% else %>
              <div class="w-full h-64 bg-neutral-100 flex items-center justify-center">
                <p class="text-slate-500">No poster available</p>
              </div>
            <% end %>
            <div class="p-4">
              <h2 class="text-lg font-semibold text-slate-900 truncate"><%= movie.title %></h2>
              <% if movie.release_date.present? %>
                <p class="text-sm text-slate-500 mt-1">Released <%= movie.release_date.strftime("%B %d, %Y") %></p>
              <% end %>
              <div class="flex gap-2 mt-4 pt-4 border-t border-neutral-100">
                <%= link_to "View details", movie_path(movie.tmdb_id || movie.id), class: "flex-1 text-center px-3 py-2 text-sm bg-neutral-50 text-slate-700 font-medium rounded-lg hover:bg-neutral-100 transition" %>
                <%= button_to "Remove", favorite_path(favorite), method: :delete, class: "flex-1 text-center px-3 py-2 text-sm bg-red-50 text-red-700 font-medium rounded-lg hover:bg-red-100 transition" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="rounded-2xl border border-neutral-100 bg-white p-12 text-center shadow-card">
        <p class="text-slate-600 text-lg">No favorites yet. Mark movies you love to see them here.</p>
        <%= link_to "Search Movies", movies_path, class: "inline-block mt-6 px-6 py-2 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 transition" %>
      </div>
    <% end %>
  </section>
</main>
