<main class="min-h-screen bg-neutral-25 px-6 py-12">
  <section class="mx-auto max-w-6xl">
    <header class="mb-8">
      <h1 class="font-display text-4xl font-semibold text-slate-900">My Favorite Movies</h1>
      <p class="mt-2 text-slate-600">Track and review your favorite movies</p>
      <%= link_to "Add Favorite", movies_path, class: "inline-block mt-4 px-6 py-2 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 transition" %>
    </header>

    <% if @diary_entries.any? %>
      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <% @diary_entries.each do |entry| %>
          <div class="rounded-2xl border border-neutral-100 bg-white overflow-hidden shadow-card hover:shadow-lg transition">
            <% if entry.movie.poster_url.present? %>
              <img src="<%= entry.movie.poster_url %>" alt="<%= entry.movie.title %>" class="w-full h-64 object-cover">
            <% else %>
              <div class="w-full h-64 bg-neutral-100 flex items-center justify-center">
                <p class="text-slate-500">No poster available</p>
              </div>
            <% end %>
            <div class="p-4">
              <h2 class="text-lg font-semibold text-slate-900 truncate"><%= entry.movie.title %></h2>
              <p class="text-sm text-slate-500 mt-1">Viewed on <%= entry.watched_date.strftime("%B %d, %Y") %></p>
              <% if entry.content.present? %>
                <p class="text-sm text-slate-600 mt-3 line-clamp-2"><%= entry.content %></p>
              <% end %>
              <% if entry.mood.present? %>
                <p class="text-xs text-brand-600 mt-2">Tags: <%= entry.mood %></p>
              <% end %>
              <% if entry.rating.present? && entry.rating > 0 %>
                <p class="text-sm text-slate-700 mt-2">Rating: <span class="font-semibold"><%= entry.rating %>/10</span></p>
              <% end %>
              <div class="flex gap-2 mt-4 pt-4 border-t border-neutral-100">
                <%= link_to "Edit", edit_diary_entry_path(entry), class: "flex-1 text-center px-3 py-2 text-sm bg-neutral-50 text-slate-700 font-medium rounded-lg hover:bg-neutral-100 transition" %>
                <%= link_to "Delete", diary_entry_path(entry), method: :delete, data: { confirm: "Are you sure?" }, class: "flex-1 text-center px-3 py-2 text-sm bg-red-50 text-red-700 font-medium rounded-lg hover:bg-red-100 transition" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="rounded-2xl border border-neutral-100 bg-white p-12 text-center shadow-card">
        <p class="text-slate-600 text-lg">No favorite movies yet. Start adding your favorites!</p>
        <%= link_to "Search Movies", movies_path, class: "inline-block mt-6 px-6 py-2 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 transition" %>
      </div>
    <% end %>
  </section>
</main>
